{% extends "base.html" %}

{% block content %}
<!-- Intro homepage -->
<section style="margin-bottom: 3rem;">
    <h1 style="color: var(--accent); margin-bottom: 1rem;">
        {% if lang == "it" %}Ciao! ğŸ‘‹{% else %}Hi! ğŸ‘‹{% endif %}
    </h1>
    <p>
    {% if lang == "it" %}
    Benvenuto nel mio blog dove scrivo di <strong>Linux</strong>ğŸ§, Programmazione <strong>Rust</strong>ğŸ¦€, <strong>Neovim</strong> e <strong>Git</strong>.
    {% else %}
    Welcome to my blog where I write about <strong>Linux</strong>ğŸ§, <strong>Rust</strong>ğŸ¦€ coding, <strong>Neovim</strong> and <strong>Git</strong>.
    {% endif %}
    </p>
</section>

<!-- Ultimi post dal blog -->
{% if lang == "en" %}
    {% set blog_section = get_section(path="blog/_index.en.md") %}
{% else %}
    {% set blog_section = get_section(path="blog/_index.md") %}
{% endif %}

<h2 style="margin-bottom: 1.5rem;">
    {% if lang == "it" %}Ultimi Post{% else %}Latest Posts{% endif %}
</h2>

<div class="post-list">
    {% for page in blog_section.pages | slice(end=5) %}
    <article class="post-item">
        <h3 class="post-title">
            <a href="{{ page.permalink }}">{{ page.title }}</a>
        </h3>
        
        <div class="post-meta">
            {{ page.date | date(format="%Y-%m-%d") }}
            {% if page.reading_time %}
            &nbsp;Â·&nbsp; {{ page.reading_time }} min lettura
            {% endif %}
        </div>
        
        {% if page.description %}
        <p class="post-summary">{{ page.description }}</p>
        {% endif %}
        
        {% if page.taxonomies.tags %}
        <div class="tags">
            {% for tag in page.taxonomies.tags %}
            <a href="{{ get_taxonomy_url(kind='tags', name=tag) }}" class="tag">{{ tag }}</a>
            {% endfor %}
        </div>
        {% endif %}
    </article>
    {% endfor %}
</div>

{% if blog_section.pages | length > 5 %}
<div style="text-align: center; margin-top: 2rem;">
    <a href="{{ blog_section.permalink }}" class="tag" style="font-size: 1rem;">
        {% if lang == "it" %}
        Vedi tutti i {{ blog_section.pages | length }} post â†’
        {% else %}
        View all {{ blog_section.pages | length }} posts â†’
        {% endif %}
    </a>
</div>
{% endif %}

{% endblock %}
