<!DOCTYPE html>
<html lang="{{ lang }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{{ config.title }}{% endblock %}</title>

    <!-- Google Fonts - JetBrains Mono -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />

    <meta name="description" content="{% block description %}{{ config.description }}{% endblock %}">
    <meta name="author" content="Marco Bollero">

    <!-- OpenGraph -->
    <meta property="og:title" content="{% block og_title %}{{ config.title }}{% endblock %}">
    <meta property="og:description" content="{% block og_description %}{{ config.description }}{% endblock %}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ config.base_url }}">
    <meta property="og:site_name" content="{{ config.title }}">
    {% block og_image %}
    <meta property="og:image" content="{{ config.base_url }}/og-image.png">
    {% endblock %}

    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{% block twitter_title %}{{ config.title }}{% endblock %}">
    <meta name="twitter:description" content="{% block twitter_description %}{{ config.description }}{% endblock %}">
    {% block twitter_image %}
    <meta name="twitter:image" content="{{ config.base_url }}/og-image.png">
    {% endblock %}

    <meta name="fediverse:creator" content="@marcobollero@mastodon.uno">

    <!-- Canonical URL -->
    {% block canonical %}
    <link rel="canonical" href="{{ config.base_url }}{{ current_path | default(value='/') }}">
    {% endblock canonical %}

    <!-- CSS -->
    <link rel="stylesheet" href="{{ get_url(path='css/style.css', trailing_slash=false) }}">

    <!-- Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/base16/gruvbox-dark-hard.min.css">

    
    <!-- RSS -->
    {% if config.generate_feeds %}
    <link rel="alternate" type="application/atom+xml" title="RSS" href="{{ get_url(path='atom.xml', trailing_slash=false) }}">
    {% endif %}
</head>
<body>
    <div class="container">
        <header>
            {% set lang_prefix = "" %}
            {% if lang == "en" %}
                {% set lang_prefix = "/en" %}
            {% endif %}
            
            <a href="{{ lang_prefix }}/" class="site-title">{{ config.title }}</a>
            <nav>
                <a href="{{ lang_prefix }}/">home</a>
                <a href="{{ lang_prefix }}/blog/">blog</a>
                <a href="{{ lang_prefix }}/about/">about</a>
                <a href="{{ lang_prefix }}/tags/">tags</a>
                
                <!-- Language switcher -->
                {% if lang == "it" %}
                <a href="/en/">ðŸ‡¬ðŸ‡§ EN</a>
                {% else %}
                <a href="/">ðŸ‡®ðŸ‡¹ IT</a>
                {% endif %}
            </nav>
        </header>

        <main>
            {% block content %}{% endblock %}
        </main>

        <footer>
            <p>
                &copy; {{ now() | date(format="%Y") }} {{ config.title }}
                &nbsp;|&nbsp;
                <a href="https://github.com/marc0x71/marc0x71.github.io/blob/main/LICENSE">Code: MIT</a>
                &nbsp;|&nbsp;
                <a href="https://creativecommons.org/licenses/by/4.0/">Content: CC BY 4.0</a>
                &nbsp;|&nbsp;
                Powered by <a href="https://www.getzola.org/" target="_blank">Zola</a>
                {% if lang == "it" %}
                &nbsp;|&nbsp;
                <a href="/atom.xml" title="Iscriviti al feed RSS">RSS ðŸ“¡</a>
                {% endif %}
            </p>
            <a rel="me" href="https://mastodon.uno/@marcobollero" style="display:none;"> Mastodon </a>
        </footer>
    </div>
    
    <!-- GoatCounter Analytics -->
    {% if config.base_url is containing("github.io") %}
    <script data-goatcounter="https://marc0x71.goatcounter.com/count"
            async src="//gc.zgo.at/count.js"></script>
    {% endif %}

    <!-- Highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/rust.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/python.min.js"></script>
    <script>hljs.highlightAll();</script>
  
</body>
</html>
